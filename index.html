<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- CSS only -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
        <!-- JavaScript Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    </head>
    <style>
        select {
            padding: 5px;
            font-size: 16px;
            line-height: 1;
            height: 42px;
            background: url(http://cdn1.iconfinder.com/data/icons/cc_mono_icon_set/blacks/16x16/br_down.png) no-repeat 95% 50% #ddd;
            -webkit-appearance: none;
        }
        option {
            font-size: 16px;
        }
        
    </style>
    <body style="background-color:#333333;color:#ddd;">
        <div class="container my-5">
            <div class="row justify-content-center">
                <div class="col-lg-5 col-md-6 col-sm-9">
                    <u style="color:black">
                        <div style="font-size:18px;border-radius: 20px;background-color:#99ccff;padding-top:10px;padding-bottom:10px;text-align:center;font-weight:700;">
                            Create User Form
                        </div>
                    </u>
                    <br>
                    <form method="POST">
                        <div class="form-group">
                            <label style="font-size: 18px;" for="inputName">Name:</label>
                            <input type="text" style="background-color:#99ccff;"  class="form-control" id="inputName" placeholder="Enter Your Name" required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label style="font-size: 18px;" for="inputAge">Age:</label>
                            <input type="number" style="background-color:#99ccff;" class="form-control" id="inputAge" min="1" max="120" placeholder="Age" required >
                        </div>
                        <br>
                        <div class="form-group">
                            <label style="font-size: 18px;" for="inputAddress">Address:</label>
                            <input type="text" style="background-color:#99ccff;" class="form-control" id="inputAddress" placeholder="Enter Your Address" required>
                        </div>
                        <br>
                        <div class="form-group">
                            <label style="font-size: 18px;" for="inputProfession">Profession:</label>
                            <select class="form-control" style="background-color:#99ccff;" name="profession" id="inputProfession">
                                <option value="Web Developer">Web Developer</option>
                                <option value="Mobile App Developer">Mobile App Developer</option>
                                <option value="Full Stack Developer">Full Stack Developer</option>
                                <option value="Backend Developer">Backend Developer</option>
                            </select>
                        </div>
                        <br>
                        <button type="submit" id="submit" style="text-align: center;" class="col-12 btn btn-primary">Register</button>
                    </form>
                    <br>
                    <a href="users.html">
                        <button type="submit" id="users" style="text-align: center;" class="col-12 btn btn-primary">View Users</button>
                    </a>
                </div>
            </div>
        </div>
    </body>
    <script>
        $(document).ready(
            function(){
                $("#submit").click(function(e){
                    var name = $("#inputName").val();
                    var age = $("#inputAge").val();
                    var address = $("#inputAddress").val();
                    var profession = $("#inputProfession").val();

                    if(name==""){
                        alert("Name can't be empty!");
                        return;
                    }
                    if(age==""){
                        alert("Age can't be empty!");
                        return;
                    }
                    if(address==""){
                        alert("Address can't be empty!");
                        return;
                    }

                    $("#inputName").val('');
                    $("#inputAge").val('');
                    $("#inputAddress").val('');
                    $("#inputProfession").val('Web Developer');
                    e.preventDefault();

                    $.ajax({
                        url:'http://127.0.0.1:8080/tasks',
                        type:'POST',
                        data:JSON.stringify({
                            "name": name,
                            "age": age,
                            "address": address,
                            "profession": profession
                        }),
                        contentType: "application/json; charset=utf-8",
                        success:function(){
                            console.log("Success!");
                        },
                        error:function(e){
                            console.log("Error!",e);
                        }
                    });
                });
        })
    </script>  
</html>